<mat-form-field [appearance]="input.appearance || config.appearance" [floatLabel]="formControl.value ? 'always' : 'auto'">
    <mat-label>{{ input.title || 'رنگ' }}</mat-label>
    @if (formControl.invalid) { <mat-error>{{ formControl.errors | InputErrorPipe : input.type }}</mat-error> }

    <!-- HINT -->
    @if (input.hint) { <mat-hint>{{ input.hint }}</mat-hint> }

    <!--  SUFFIX -->
    <span matTextSuffix class="suffix" [style.opacity]="formControl.disabled ? '0.4' : 1">
        <div
            [ngClass]="config.enClass"
            [dir]="'ltr'"
            (click)="formControl.disabled ? null : colorInput.click(); formControl.markAsTouched()"
        >
            {{ formControl.value }}
        </div>
        <mat-icon
            (click)="formControl.value ? formControl.setValue(null) : colorInput.click(); formControl.markAsTouched()"
            [style.opacity]="formControl.value ? 1 : 0"
        >
            close
        </mat-icon>
    </span>

    <div class="color">
        <input matInput type="color" [name]="input.name" [formControl]="formControl" #colorInput />
        <input
            matInput
            [required]="!input.optional"
            type="text"
            [disabled]="formControl.disabled"
            [readonly]="true"
            [ngClass]="config.enClass"
            [dir]="'ltr'"
            [style.opacity]="formControl.disabled ? '0.4' : 1"
            [style.cursor]="formControl.disabled ? 'default' : 'pointer'"
            [style.background-color]="formControl.value || 'transparent'"
            (click)="formControl.disabled ? null : colorInput.click(); formControl.markAsTouched()"
        />
    </div>

    <!-- DESCRIPTION -->
    @if (input.description) {
    <div
        [ngClass]="config.descriptionClass"
        [style.opacity]="formControl.disabled ? '0.4' : 1"
        [innerHTML]="input.description | MultiLinePipe"
    ></div>
    }
</mat-form-field>
